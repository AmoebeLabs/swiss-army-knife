---
template: overrides/main.html
---

[entity-history-tool support]: https://github.com/amoebelabs/swiss-army-knife/releases/tag/1.0.0
# The Entity History tool
[:octicons-tag-24: 1.0.0][entity-history-tool support] Â·
:octicons-package-dependents-24: Output

The Entity History tool is a horizontal or vertical bar chart (sparkline) and displayes some history of an Home Assistant Entity.
It is a basic chart, more of a sparkline with only display functionality.

<svg viewBox="-250 50 500 150" xmlns="http://www.w3.org/2000/svg" width="300px">
<g id="barchart-cdau7heuv" class=" ">
        <!----><!---->
        <line id="line-segment-cdau7heuv-0" class="sak-barchart__line hover" x1="-173.45833333333334" x2="-173.45833333333334" y1="190" y2="89.99999999999997" data-length="100.00000000000003" stroke="var(--md-primary-fg-color--dark)" stroke-width="13.083333333333334" style="fill: red; opacity: 0.8; stroke-linecap: butt;"></line>
        <!---->
        <line id="line-segment-cdau7heuv-1" class="sak-barchart__line hover" x1="-158.375" x2="-158.375" y1="190" y2="93.21541420100057" data-length="96.78458579899943" stroke="var(--md-primary-fg-color--dark)" stroke-width="13.083333333333334" style="stroke: var(--md-primary-fg-color); opacity: 0.8; stroke-linecap: butt;"></line>
        <!---->
        <line id="line-segment-cdau7heuv-2" class="sak-barchart__line hover" x1="-143.29166666666669" x2="-143.29166666666669" y1="190" y2="104.02415270744056" data-length="85.97584729255944" stroke="var(--md-primary-fg-color--dark)" stroke-width="13.083333333333334" style="stroke: var(--md-primary-fg-color); opacity: 0.8; stroke-linecap: butt;"></line>
        <!---->
        <line id="line-segment-cdau7heuv-3" class="sak-barchart__line hover" x1="-128.20833333333334" x2="-128.20833333333334" y1="190" y2="123.87315190977037" data-length="66.12684809022963" stroke="var(--md-primary-fg-color--dark)" stroke-width="13.083333333333334" style="stroke: var(--md-primary-fg-color); opacity: 0.8; stroke-linecap: butt;"></line>
        <!---->
        <line id="line-segment-cdau7heuv-4" class="sak-barchart__line hover" x1="-113.125" x2="-113.125" y1="190" y2="145.60502346634004" data-length="44.39497653365995" stroke="var(--md-primary-fg-color--dark)" stroke-width="13.083333333333334" style="stroke: var(--md-primary-fg-color); opacity: 0.8; stroke-linecap: butt;"></line>
        <!---->
        <line id="line-segment-cdau7heuv-5" class="sak-barchart__line hover" x1="-98.04166666666667" x2="-98.04166666666667" y1="190" y2="140.36451666759407" data-length="49.63548333240592" stroke="var(--md-primary-fg-color--dark)" stroke-width="13.083333333333334" style="stroke: var(--md-primary-fg-color); opacity: 0.8; stroke-linecap: butt;"></line>
        <!---->
        <line id="line-segment-cdau7heuv-6" class="sak-barchart__line hover" x1="-82.95833333333334" x2="-82.95833333333334" y1="190" y2="137.79836879564175" data-length="52.201631204358264" stroke="var(--md-primary-fg-color--dark)" stroke-width="13.083333333333334" style="stroke: var(--md-primary-fg-color); opacity: 0.8; stroke-linecap: butt;"></line>
        <!---->
        <line id="line-segment-cdau7heuv-7" class="sak-barchart__line hover" x1="-67.875" x2="-67.875" y1="190" y2="133.9646057098335" data-length="56.03539429016649" stroke="var(--md-primary-fg-color--dark)" stroke-width="13.083333333333334" style="stroke: var(--md-primary-fg-color); opacity: 0.8; stroke-linecap: butt;"></line>
        <!---->
        <line id="line-segment-cdau7heuv-8" class="sak-barchart__line hover" x1="-52.79166666666667" x2="-52.79166666666667" y1="190" y2="131.2747880609196" data-length="58.72521193908041" stroke="var(--md-primary-fg-color--dark)" stroke-width="13.083333333333334" style="stroke: var(--md-primary-fg-color); opacity: 0.8; stroke-linecap: butt;"></line>
        <!---->
        <line id="line-segment-cdau7heuv-9" class="sak-barchart__line hover" x1="-37.70833333333334" x2="-37.70833333333334" y1="190" y2="123.70001422202424" data-length="66.29998577797576" stroke="var(--md-primary-fg-color--dark)" stroke-width="13.083333333333334" style="stroke: var(--md-primary-fg-color); opacity: 0.8; stroke-linecap: butt;"></line>
        <!---->
        <line id="line-segment-cdau7heuv-10" class="sak-barchart__line hover" x1="-22.625" x2="-22.625" y1="190" y2="117.76386492786949" data-length="72.23613507213051" stroke="var(--md-primary-fg-color--dark)" stroke-width="13.083333333333334" style="stroke: var(--md-primary-fg-color); opacity: 0.8; stroke-linecap: butt;"></line>
        <!---->
        <line id="line-segment-cdau7heuv-11" class="sak-barchart__line hover" x1="-7.541666666666657" x2="-7.541666666666657" y1="190" y2="113.37358784573425" data-length="76.62641215426575" stroke="var(--md-primary-fg-color--dark)" stroke-width="13.083333333333334" style="stroke: var(--md-primary-fg-color); opacity: 0.8; stroke-linecap: butt;"></line>
        <!---->
        <line id="line-segment-cdau7heuv-12" class="sak-barchart__line hover" x1="7.541666666666657" x2="7.541666666666657" y1="190" y2="109.94175153505113" data-length="80.05824846494887" stroke="var(--md-primary-fg-color--dark)" stroke-width="13.083333333333334" style="stroke: var(--md-primary-fg-color); opacity: 0.8; stroke-linecap: butt;"></line>
        <!---->
        <line id="line-segment-cdau7heuv-13" class="sak-barchart__line hover" x1="22.625" x2="22.625" y1="190" y2="106.50991522436773" data-length="83.49008477563227" stroke="var(--md-primary-fg-color--dark)" stroke-width="13.083333333333334" style="stroke: var(--md-primary-fg-color); opacity: 0.8; stroke-linecap: butt;"></line>
        <!---->
        <line id="line-segment-cdau7heuv-14" class="sak-barchart__line hover" x1="37.70833333333334" x2="37.70833333333334" y1="190" y2="104.93312556810787" data-length="85.06687443189213" stroke="var(--md-primary-fg-color--dark)" stroke-width="13.083333333333334" style="stroke: var(--md-primary-fg-color); opacity: 0.8; stroke-linecap: butt;"></line>
        <!---->
        <line id="line-segment-cdau7heuv-15" class="sak-barchart__line hover" x1="52.79166666666666" x2="52.79166666666666" y1="190" y2="103.91284990817503" data-length="86.08715009182497" stroke="var(--md-primary-fg-color--dark)" stroke-width="13.083333333333334" style="stroke: var(--md-primary-fg-color); opacity: 0.8; stroke-linecap: butt;"></line>
        <!---->
        <line id="line-segment-cdau7heuv-16" class="sak-barchart__line hover" x1="67.875" x2="67.875" y1="190" y2="103.72734524273285" data-length="86.27265475726715" stroke="var(--md-primary-fg-color--dark)" stroke-width="13.083333333333334" style="stroke: var(--md-primary-fg-color); opacity: 0.8; stroke-linecap: butt;"></line>
        <!---->
        <line id="line-segment-cdau7heuv-17" class="sak-barchart__line hover" x1="82.95833333333334" x2="82.95833333333334" y1="190" y2="106.88092455525246" data-length="83.11907544474754" stroke="var(--md-primary-fg-color--dark)" stroke-width="13.083333333333334" style="stroke: var(--md-primary-fg-color); opacity: 0.8; stroke-linecap: butt;"></line>
        <!---->
        <line id="line-segment-cdau7heuv-18" class="sak-barchart__line hover" x1="98.04166666666666" x2="98.04166666666666" y1="190" y2="110.22000853321451" data-length="79.77999146678549" stroke="var(--md-primary-fg-color--dark)" stroke-width="13.083333333333334" style="stroke: var(--md-primary-fg-color); opacity: 0.8; stroke-linecap: butt;"></line>
        <!---->
        <line id="line-segment-cdau7heuv-19" class="sak-barchart__line hover" x1="113.12500000000003" x2="113.12500000000003" y1="190" y2="112.35331218580141" data-length="77.64668781419859" stroke="var(--md-primary-fg-color--dark)" stroke-width="13.083333333333334" style="stroke: var(--md-primary-fg-color); opacity: 0.8; stroke-linecap: butt;"></line>
        <!---->
        <line id="line-segment-cdau7heuv-20" class="sak-barchart__line hover" x1="128.20833333333334" x2="128.20833333333334" y1="190" y2="128.77047507744822" data-length="61.22952492255178" stroke="var(--md-primary-fg-color--dark)" stroke-width="13.083333333333334" style="stroke: var(--md-primary-fg-color); opacity: 0.8; stroke-linecap: butt;"></line>
        <!---->
        <line id="line-segment-cdau7heuv-21" class="sak-barchart__line hover" x1="143.29166666666666" x2="143.29166666666666" y1="190" y2="152.66965947526916" data-length="37.33034052473083" stroke="var(--md-primary-fg-color--dark)" stroke-width="13.083333333333334" style="stroke: var(--md-primary-fg-color); opacity: 0.8; stroke-linecap: butt;"></line>
        <!---->
        <line id="line-segment-cdau7heuv-22" class="sak-barchart__line hover" x1="158.37500000000003" x2="158.37500000000003" y1="190" y2="167.35544548945404" data-length="22.64455451054595" stroke="var(--md-primary-fg-color--dark)" stroke-width="13.083333333333334" style="stroke: var(--md-primary-fg-color); opacity: 0.8; stroke-linecap: butt;"></line>
        <!---->
        <line id="line-segment-cdau7heuv-23" class="sak-barchart__line hover" x1="173.45833333333334" x2="173.45833333333334" y1="190" y2="185.2380952380952" data-length="4.761904761904801" stroke="var(--md-primary-fg-color--dark)" stroke-width="13.083333333333334" style="stroke: var(--md-primary-fg-color); opacity: 0.8; stroke-linecap: butt;"></line>
        <!----><!---->
      </g>
</svg>      
##:sak-sak-logo: Basic usage

=== "Connected"
```yaml linenums="1" hl_lines="1"
- type: 'bar'               # tooltype is 'bar'
  position:                 # Position on (100x100) canvas
    cx: 50                  # cx=50 is center position
    cy: 50                  # cy=50 is center position
    width: 180              # width of total barchart
    height: 55              # height
    margin: 1               # space between bars
  orientation: vertical     # vertical or horizontal
  hours: 24                 # number of hours of history
  barhours: 1               # each bar represents 1 hour
  entity_index: 0           # connect to state of entity 0
```

##:sak-sak-logo: Styling
The Entity History tool has support for the following forms of styling:

| Method       | Support          | Description            |
| :----------- | :--------------: | :-------------------- |
| `classes`    | :material-check: | Using SAK or User defined class definitions  |
| `styles`     | :material-check: | Using inline SVG and CSS styles |

The Entity History tool is composed of a single object: "bar" and this is the selector for styling:
```yaml linenums="1"hl_lines="13 16"
- type: 'bar'
  position:
    cx: 50
    cy: 50
    width: 180              # width of total barchart
    height: 55              # height
    margin: 1               # space between bars
  orientation: vertical     # vertical or horizontal
  hours: 24                 # number of hours of history
  barhours: 1               # each bar represents 1 hour
  entity_index: 0
  classes:
    bar:                   # bar selector
      <...>
  styles:
    bar:                   # bar selector
      <...>
```
Populair properties:

| Property       | Does what?            | Example                                                 |
| :-------------- | :-------------------- | :------------------------------------------------------ |
| `fill`          | Fill color            | `fill: red` sets fill to color red |
| `opacity`       | Opacity (stroke/fill) | `opacity: 0.7` sets the opacity of bar to 70% |
| `stroke-linecap`| Format end of line    | `stroke-linecap: round` sets the endline to round. `butt` sets it to square|

--8<-- "docs/tools/default-haptics.md"

##:sak-sak-logo: Animations
The Entity Barchart tool has support for the following forms of animations:

| Method       | Support          | Description            |
| :----------- | :--------------: | :-------------------- |
| `colorstops` | :material-check: | List of state values to set the color for **SINGLE** bar |
| `colorlists` | :material-close: | Using a colorlist definition |
| `animations` | :material-check: | Operator state based animations with class/style styling |


